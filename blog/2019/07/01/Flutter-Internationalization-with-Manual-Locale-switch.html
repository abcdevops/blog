<!DOCTYPE html><html lang="en-US" xml:lang="en-US" itemscope="" itemtype="http://schema.org/WebPage"><head><title>Flutter: Internationalization & Switching Locales Manually</title><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><meta itemprop="name" content="Flutter: Internationalization & Switching Locales Manually" /><meta itemprop="author" content="Tarun Jangra" /><meta itemprop="breadcrumb" content="https://abcdevops.com" /><meta name="description" content="An Easy step by step tutorial for implementing internationalization into your flutter app and also how to manually switch your App's Locale on specific event..." /><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@abcdevops"><meta name="twitter:creator" content="@abcdevops"><meta name="twitter:title" content="Flutter: Internationalization & Switching Locales Manually"><meta name="twitter:description" content="An Easy step by step tutorial for implementing internationalization into your flutter app and also how to manually switch your App's Locale on specific event..."><meta name="twitter:url" content="https://abcdevops.com/blog/2019/07/01/Flutter-Internationalization-with-Manual-Locale-switch.html"><meta name="twitter:image" content="https://abcdevops.com/images/posts/internaiont-blog-social-media.jpg"><meta property="fb:app_id" content="439141360000442"/><meta property="og:site_name" content="The ABCDevOps Blog" /><meta property="og:title" content="Flutter: Internationalization & Switching Locales Manually"/><meta property="og:description" content="An Easy step by step tutorial for implementing internationalization into your flutter app and also how to manually switch your App's Locale on specific event..."/><meta property="og:type" content="article" /><meta property="og:locale" content="en_US" /><meta property="article:author" content="Tarun Jangra" /><meta property="og:image" content="https://abcdevops.com/images/posts/internaiont-blog-social-media.jpg" /><meta property="og:url" content="https://abcdevops.com/blog/2019/07/01/Flutter-Internationalization-with-Manual-Locale-switch.html" /><link rel="canonical" href="https://abcdevops.com/blog/2019/07/01/Flutter-Internationalization-with-Manual-Locale-switch.html" /><link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="ABCDevOps" /><link rel="shortcut icon" href="/favicon.ico?fea39852"/><link rel="apple-touch-icon" href="/favicon.ico?fea39852"/><link rel="alternate" type="application/rss+xml" title="RSS for abcdevops.com" href="https://abcdevops.com/rss.xml"/><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet"><meta property="article:published_time" content="2019-07-01 00:00:00 -0400"/><meta property="article:modified_time" content=""/><meta property="article:author" content="http://tarunjangra.com"/><meta property="article:section" content="Technology"/><meta property="article:tag" content="flutter,localization,app-translation,internationalization,tutorial,locales,flutter_localizations"/> <script type="application/ld+json"> { "@context": "https://schema.org", "@type": "BlogPosting", "url": "https://abcdevops.com/blog/2019/07/01/Flutter-Internationalization-with-Manual-Locale-switch.html", "name": "Flutter: Internationalization & Switching Locales Manually", "headline": "Flutter: Internationalization & Switching Locales Manually", "keywords": "flutter,localization,app-translation,internationalization,tutorial,locales,flutter_localizations", "description": "An Easy step by step tutorial for implementing internationalization into your flutter app and also how to manually switch your App's Locale on specific events. Learn how the text in your app responds to updated Locale", "articleBody": "At times you will have to make your Flutter app support different language or “locale” or in other words make your app Internationalized. Flutter provides widgets &amp; classes that help with this and the Flutter libraries themselves are internationalized. In the following tutorials we’ll use the APIs and tools provided by the intl package. If you’re new Dart’s intl package, i suggest you have a look at the Dart intl tools.As you might know Flutter is now taking over vast majority of market, so if you’re a software developer there is 99.9% chance that you will come across this. So here’s an easy step by step tutorial for internationalization of your flutter app, also we’ll see how to manually switch your App’s Locale on specific events. I’ll assume you know how to setup a flutter app so we’ll skip that part. Alrighty then Avengers! Assemble!!So first step is to Include the packages in pubspec.yaml file. For that just add the 2 packages name under the dependencies. It would look something like this.dependencies: flutter: sdk: flutter flutter_localizations: sdk: flutter intl_translation: ^0.17.1After you save this, flutter automatically downloads and include the packages. You can now use it in your app anywhere simply by importing it. We’ll import it in the main.dart file first. Goto you main.dart file and add import the package.import 'package:flutter_localizations/flutter_localizations.dart';import 'package:intl/intl.dart';void main() =&gt; runApp(MyApp());The next step is to setup the Localization delegates in your main.dart file. For that you need to specify the 2 delegates first. Widget build(BuildContext context) { return MaterialApp( localizationsDelegates: [ GlobalMaterialLocalizations.delegate, GlobalWidgetsLocalizations.delegate ], supportedLocales: [ const Locale('en', 'US'), const Locale('de', 'DE') ], ...GlobalMaterialLocalizations.delegate provides localized strings and other values for the Material Components library. GlobalWidgetsLocalizations.delegate defines the default text direction, either left to right or right to left, for the widgets library.As you can see here, we added 2 lists to our Material app localizationsDelegates &amp; supportedLocales. The supportedLocales parameter holds the list of languages that our app will support. Here you will specify list of languages_codes.Create a file on path /lib/locale/app_localization.dartNext step is to create an AppLocalization &amp; AppLocalizationDelegate. Classes in which we’ll be defining our keywords and their translations. We’ll also use it throughout the app and for manually switching the Locale if required. Therefore i suggest you create this class in a Separate folder in your lib directory. Mine looks like /lib/locale/app_localization.dartThe AppLocalization class will only have 2 static methods for now. The load() &amp; of() method.import 'package:flutter/material.dart';import 'package:intl/intl.dart';class AppLocalization { static Future&lt;AppLocalization&gt; load(Locale locale) { final String name = locale.countryCode.isEmpty ? locale.languageCode : locale.toString(); final String localeName = Intl.canonicalizedLocale(name); return initializeMessages(localeName).then((_) { Intl.defaultLocale = localeName; return AppLocalization(); }); } static AppLocalization of(BuildContext context) { return Localizations.of&lt;AppLocalization&gt;(context, AppLocalization); } // list of locales String get heyWorld { return Intl.message( 'Hey World', name: 'heyWorld', desc: 'Simpel word for greeting ', ); }}PS: NOTE THAT YOUR load() might be returning an error on the line: return initializeMessages() ignore this for now, we’ll remove it in a while.load() : It will load/set all the Localized values. You can also call this method if you wish to switch the locale of app manually.of() : This method will return the instance of current Localization of the app. Somewhat like a factory method.get heyWorld: This getter returns the value of the heyWorld. This property is what will be using to get its translations based on locale of the app. For demo purpose i have only set 1 String as for now but you can as many as you can.Create a AppLocalizationDelegate in the AppLocalization classNow create an AppLocalizationDelegate for the AppLocalization class.class AppLocalizationDelegate extends LocalizationsDelegate&lt;AppLocalization&gt;{ final Locale overriddenLocale; const AppLocalizationDelegate(this.overriddenLocale); @override bool isSupported(Locale locale) =&gt; ['en', 'de'].contains(locale.languageCode); @override Future&lt;AppLocalization&gt; load(Locale locale) =&gt; AppLocalization.load(locale); @override bool shouldReload(LocalizationsDelegate&lt;AppLocalization&gt; old) =&gt; false; }As you can see this Delegate class is extended from main LocalizationsDelegate and we have pointed it to AppLocalization via &lt;AppLocalization&gt;add the above required methods and take a look at the isSupported() method:@overridebool isSupported(Locale locale)=&gt;['en','de'].contains(locale.languageCode);This method will be called to check if the language is supported or not, based on the Locale instance provided. Make sure to you have your supported languages inserted in this list here such as: [‘en’, ‘de’ ….]Create a lib/l10n Directory in your lib folderNow create a l10n directory in your lib folder. This directory will hold all the translated values as per your Locale. Your final directory structure will look somewhat like this:Create resource bundles (.arb files)In your Terminal and run the following command to create the arb files:$ flutter pub run intl_translation:extract_to_arb --output-dir=lib/l10n lib/locale/app_localization.dartYou will now see a new file in your l10n folder intl_messages.arb . Cool!NOTE: The Dart intl package only creates one template file of .arb from your Localization class and names it intl_messages.arb. From here you now have to manually create other resource files with convention intl_[LANGUAGE_CODE].arb and copy the content of intl_messages.arb directly with updated the values.For eg: For English format you will create file intl_en.arb and the content copied from intl_messages.arb :{ \"@@last_modified\": \"2019-06-27T22:25:57.081431\", \"heyWorld\": \"Hey World\", \"@heyWorld\": { \"description\": \"Simple world for greeting \", \"type\": \"text\", \"placeholders\": {} },}Now lets create one in German language. So this will be:{ \"@@last_modified\": \"2019-06-27T23:38:38.868199\", \"heyWorld\": \"Hey Welt\", \"@heyWorld\": { \"description\": \"Einfaches Wort zur Begrüßung\", \"type\": \"text\", \"placeholders\": {} }}Once you created these files in your l10n folder. Now you need to run another command to create the corresponding .dart files that will be used to manage these resource files. For that run the following command:$ flutter pub run intl_translation:generate_from_arb \\--output-dir=lib/l10n --no-use-deferred-loading \\lib/l10n/intl_messages.arb lib/l10n/intl_de.arb lib/l10n/intl_en.arb lib/locale/app_localization.dartNOTE that i have only 2 files intl_en.arb &amp; intl_de.arb therefore i am only passing those in command. But if you have more or less you need to pass them all.Now check your l10n folder you will now see new dart files created from those resource files.Btw you might see some warnings in the console, but its ok. just ignore them.Now import the messages_all.dart file in your AppLocalization Class and here’s a final look at your AppLocalization Class:import 'dart:async';import 'package:flutter/material.dart';import 'package:intl/intl.dart';import '../l10n/messages_all.dart';class AppLocalization { static Future&lt;AppLocalization&gt; load(Locale locale) { final String name = locale.countryCode.isEmpty ? locale.languageCode : locale.toString(); final String localeName = Intl.canonicalizedLocale(name); return initializeMessages(localeName).then((_) { Intl.defaultLocale = localeName; return AppLocalization(); }); } static AppLocalization of(BuildContext context) { return Localizations.of&lt;AppLocalization&gt;(context, AppLocalization); } String get heyWorld { return Intl.message( 'Hey World', name: 'heyWorld', desc: 'Simpel word for greeting ', ); }}class AppLocalizationDelegate extends LocalizationsDelegate&lt;AppLocalization&gt; { final Locale overriddenLocale; const AppLocalizationDelegate(this.overriddenLocale); @override bool isSupported(Locale locale) =&gt; ['en', 'es', 'de'].contains(locale.languageCode); @override Future&lt;AppLocalization&gt; load(Locale locale) =&gt; AppLocalization.load(locale); @override bool shouldReload(LocalizationsDelegate&lt;AppLocalization&gt; old) =&gt; false;}The error is gone! right. ;)Now you’re just 1 step from using the language values based on your current Localization. To use language specific text in your app, you’ll simply need to follow the 2 steps : import AppLocalization class where you want to use the text Call localized value of text via: AppLocalizations.of(context).heyWorldNow what is happening here is when you call the above method, it calls the getter of the AppLocalization class and returns its value based on the Locale of the context. Which means.. If the context is en (ie english) it will return the value from intl_en.arb and when the Locale changes to de ( ie german) it will return the value from intl_de.arb. And since we’re using only Class getter for both languages ie heyWorld therefore need not to worry about the that as well. Flutter will take care of that. Now here comes the best part.Finally update main.dart fileIn your main.dart file and in your main Class set a new property _localOverrideDelegate in the _MyAppState and give it a default initial value:AppLocalizationDelegate _localeOverrideDelegate = AppLocalizationDelegate(Locale('en', 'US'));later we’ll be changing the state of Locale on custom event. Now add this parameter in the list of _localizationDelegates in your main file.return new MaterialApp( ...., localizationsDelegates: [ GlobalMaterialLocalizations.delegate, GlobalWidgetsLocalizations.delegate, _localeOverrideDelegate ], home: Scaffold(...Thats it! you’re all set to use you language files code. Now each place where you’ve used the convention: AppLocalizations.of(context).[GETTER_KEY] the text will return the Localized value always. Now here’s the best part!Switch the AppLocalization on custom eventsTo switch the Localization is real easy now. You only have to call the load() method with the instance of Locale([LANGUAGE_CODE], [SUBTAG]) as argument. Like this.For English US: AppLocalization.load(Locale('en', 'US'));For German DE: AppLocalization.load(Locale('de', 'DE'));Pretty easy! right. And yes, you can call it on onPressed() events on buttons or any other. Lets see a working example I’ll be switching the app Localization on click of a button. I’ll be adding a simple 2 buttons on the page and a heyWorld text in the center. On click of button the AppLocalization will switch over.Here is snippet of my main.dart fileimport 'package:flutter/material.dart';import 'package:flutter_localizations/flutter_localizations.dart';import 'locale/app_localization.dart';import 'package:intl/intl.dart';void main() =&gt; runApp(MyApp());class MyApp extends StatefulWidget { @override State&lt;StatefulWidget&gt; createState() =&gt; _MyAppState();}class _MyAppState extends State&lt;MyApp&gt; { // This widget is the root of your application. AppLocalizationDelegate _localeOverrideDelegate = AppLocalizationDelegate(Locale('en', 'US')); @override Widget build(BuildContext context) { return new MaterialApp(localizationsDelegates: [ GlobalMaterialLocalizations.delegate, GlobalWidgetsLocalizations.delegate, _localeOverrideDelegate ], supportedLocales: [ const Locale('en', 'US'), const Locale('de', 'DE') ], home: MyHomePage()); }}class MyHomePage extends StatefulWidget { @override State&lt;StatefulWidget&gt; createState() =&gt; _MyHomePageState();}class _MyHomePageState extends State&lt;MyHomePage&gt; { @override Widget build(BuildContext context) { return Scaffold( appBar: AppBar( // title: Text(AppLocalization.of(context).heyWorld), ), body: Column( mainAxisAlignment: MainAxisAlignment.start, children: &lt;Widget&gt;[ Expanded( flex: 1, child: ListTile( leading: RaisedButton( onPressed: () { setState(() { AppLocalization.load(Locale('en', 'US')); }); }, child: Text('ENGLISH'), ), trailing: RaisedButton( onPressed: () { setState(() { AppLocalization.load(Locale('de', 'DE')); }); }, child: Text('GERMAN'), ), ), ), Expanded( flex: 1, child: Text( AppLocalization.of(context).heyWorld, style: TextStyle(fontSize: 20), ), ) ], ), ); }}and here is the link to full working example. Enjoy and Keep Fluttering!", "datePublished": "2019-07-01", "dateModified": "2019-07-01 00:00:00 -0400", "author": { "@type": "Person", "name": "Tarun Jangra", "givenName": "Tarun", "familyName": "Jangra", "image": { "@type": "ImageObject", "url": "https://tarunjangra.com/images/about/tarun-jangra-200x200.jpg" }, "email": "tarun.jangra@abcdevops.com" }, "publisher": { "@type": "Organization", "name": "ABCDevOps: re:devining DevOps", "url": "https://abcdevops.com", "logo": { "@type": "ImageObject", "width": 32, "height": 32, "url": "https://abcdevops.com/icon/favicon.ico" } }, "mainEntityOfPage": { "@type": "WebPage", "@id": "https://abcdevops.com/blog/2019/07/01/Flutter-Internationalization-with-Manual-Locale-switch.html" }, "image": { "@type": "ImageObject", "width": 200, "height": 200, "url": "https://abcdevops.com/images/posts/internaiont-blog-social-media.jpg" } } </script> <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js" ></script> <script src="/js/custom.js?fea39852" type="application/javascript"></script><link href="/../dist/semantic.min.css?fea39852" rel="stylesheet" async="async" type="text/css"/><link href="/css/style.css?fea39852" rel="stylesheet" async="async" /> <script src="/../dist/semantic.min.js?fea39852" async="async" type="application/javascript"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-783273-8"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-783273-8'); </script></head><body id="/blog/2019/07/01/Flutter-Internationalization-with-Manual-Locale-switch" ><main><header class="ui row bg-img"><div class="ui container fluid"><div class="ui grid m-0"><div class="eight wide mobile four wide tablet four wide computer column logo-rs" > <a class=" item" href="/index.html"> <img class="ui image logo" src="/images/logo-abc-home.png" alt="abcdevops logo"/> <img class="ui appicon" src="/images/abc-appicon.png" alt="abcdevops logo"/> </a></div><div class="twelve wide tablet twelve wide computer sixteen wide mobile column grid nopadding-tablet menu-list" style="padding-right: 70px; "><div class="left aligned sixteen wide tablet eight wide column "><div class="ui inverted stackable menu menu-responsive"> <a class="item" href="/what.html"> <span>What</span><h6>Do i need DevOps?</h6></a> <a class="item" href="/who.html"> <span>who</span><h6>more about our work</h6></a> <a class="item" href="/how.html"> <span>how</span><h6>24/7 monitoring</h6></a> <a class="item" href="/blog/index.html"> <span>why</span><h6>Our blog</h6></a> <a class="item" href="/where.html"> <span>where</span><h6>Reach us</h6></a></div><div class="mobile-menu"><i class="sidebar icon"></i></div></div></div></div></div></header><div class="hiring hide-for-small-only"> <a href="/career.html"> <img src="/images/label-hiring.png" alt="We Are Hiring"> </a></div><nav class="share" role="navigation"> <a class="facebook-link" href="https://www.facebook.com/sharer/sharer.php?u=https://abcdevops.com/blog/2019/07/01/Flutter-Internationalization-with-Manual-Locale-switch.html" title="Share on Facebook" class="button"> <span class="count count-facebook">0</span> <i class="facebook f icon" aria-hidden="true"></i> </a> <a class="twitter-link" href="https://twitter.com/intent/tweet?url=https://abcdevops.com/blog/2019/07/01/Flutter-Internationalization-with-Manual-Locale-switch.html&amp;text=Flutter%3A+Internationalization+%26+Switching+Locales+Manually&amp;via=abcdevops" title="Share on Twitter" class="button"> <span class="count count-twitter">0</span> <i class="twitter icon" aria-hidden="true"></i> </a> <a class="linked-link" href="https://www.linkedin.com/cws/share?url=https://abcdevops.com/blog/2019/07/01/Flutter-Internationalization-with-Manual-Locale-switch.html" title="Share on LinkedIn" class="button"> <span class="count count-linkedin">0</span> <i class="linkedin icon" aria-hidden="true"></i> </a></nav><section class="blog-banner main-disc"> <img src="/images/posts/blog-main-image.jpg"></section><section class="inner-content-page single-blog" style="background-color:#fff;"><div class="ui container"><div class="ui grid row"><div class="set_aside sixteen wide tablet eleven wide computer column"><div class="innerpage-header-title"><h2>Flutter: Internationalization & Switching Locales Manually</h2></div><ul class="post-detail"><li> <i class="fa fa-clock-o" aria-hidden="true"></i> <time itemprop="datePublished" datetime="2019-07-01T00:00:00-04:00"> 1 July 2019 </time></li><li class="unprintable"> <i class="comment icon"></i> <a href="https://abcdevops.com/blog/2019/07/01/Flutter-Internationalization-with-Manual-Locale-switch.html#disqus_thread" itemprop="discussionUrl">comments</a></li></ul><p class="blog-tag"><a href='/tag/flutter.html' class='tag notranslate'>flutter</a> <a href='/tag/localization.html' class='tag notranslate'>localization</a> <a href='/tag/app-translation.html' class='tag notranslate'>app-translation</a> <a href='/tag/internationalization.html' class='tag notranslate'>internationalization</a> <a href='/tag/tutorial.html' class='tag notranslate'>tutorial</a> <a href='/tag/locales.html' class='tag notranslate'>locales</a> <a href='/tag/flutter_localizations.html' class='tag notranslate'>flutter_localizations</a></p><div class="inner-canvas"><p>At times you will have to make your Flutter app support different language or “locale” or in other words make your app Internationalized. Flutter provides widgets &amp; classes that help with this and the Flutter libraries themselves are internationalized. In the following tutorials we’ll use the APIs and tools provided by the intl package. If you’re new Dart’s intl package, i suggest you have a look at the <a href="https://flutter.dev/docs/development/accessibility-and-localization/internationalization#dart-tools">Dart intl tools</a>.</p><p>As you might know Flutter is now taking over vast majority of market, so if you’re a software developer there is 99.9% chance that you will come across this. So here’s an easy step by step tutorial for internationalization of your flutter app, also we’ll see how to manually switch your App’s Locale on specific events. I’ll assume you know how to setup a flutter app so we’ll skip that part. Alrighty then Avengers! Assemble!!</p><p>So first step is to Include the packages in <code>pubspec.yaml</code> file. For that just add the 2 packages name under the dependencies. It would look something like this.</p><pre><code class="language-yaml">dependencies:
  flutter:
    sdk: flutter
  flutter_localizations:
    sdk: flutter
    
  intl_translation: ^0.17.1
</code></pre><p>After you save this, flutter automatically downloads and include the packages. You can now use it in your app anywhere simply by importing it. We’ll import it in the main.dart file first. Goto you <code>main.dart</code> file and add import the package.</p><pre><code class="language-dart">import 'package:flutter_localizations/flutter_localizations.dart';
import 'package:intl/intl.dart';
void main() =&gt; runApp(MyApp());
</code></pre><p>The next step is to setup the Localization delegates in your <code>main.dart</code> file. For that you need to specify the 2 delegates first.</p><pre><code class="language-dart">  Widget build(BuildContext context) {
    return MaterialApp(
      localizationsDelegates: [
        GlobalMaterialLocalizations.delegate,
        GlobalWidgetsLocalizations.delegate
      ],
      supportedLocales: [
        const Locale('en', 'US'),
        const Locale('de', 'DE')
      ],
      ...
</code></pre><p><code>GlobalMaterialLocalizations.delegate</code> provides localized strings and other values for the Material Components library. <code>GlobalWidgetsLocalizations.delegate</code> defines the default text direction, either left to right or right to left, for the widgets library. As you can see here, we added 2 lists to our Material app <code>localizationsDelegates</code> &amp; <code>supportedLocales</code>. The <code>supportedLocales</code> parameter holds the list of languages that our app will support. Here you will specify list of languages_codes.</p><h2 id="create-a-file-on-path-liblocaleapp_localizationdart">Create a file on path /lib/locale/app_localization.dart</h2><p>Next step is to create an <code>AppLocalization</code> &amp; <code>AppLocalizationDelegate</code>. Classes in which we’ll be defining our keywords and their translations. We’ll also use it throughout the app and for manually switching the Locale if required. Therefore i suggest you create this class in a Separate folder in your lib directory. Mine looks like <code>/lib/locale/app_localization.dart</code> The AppLocalization class will only have 2 static methods for now. The <code>load()</code> &amp; <code>of()</code> method.</p><pre><code class="language-dart">import 'package:flutter/material.dart';
import 'package:intl/intl.dart';

class AppLocalization {
  
  static Future&lt;AppLocalization&gt; load(Locale locale) {
    final String name = locale.countryCode.isEmpty ? locale.languageCode : locale.toString();
    final String localeName = Intl.canonicalizedLocale(name);
    return initializeMessages(localeName).then((_) {
      Intl.defaultLocale = localeName;
      return AppLocalization();
    });
  }

  static AppLocalization of(BuildContext context) {
    return Localizations.of&lt;AppLocalization&gt;(context, AppLocalization);
  }
  
  // list of locales
  String get heyWorld {
    return Intl.message(
      'Hey World',
      name: 'heyWorld',
      desc: 'Simpel word for greeting ',
    );
  }
}
</code></pre><p><em>PS: NOTE THAT YOUR <code>load()</code> might be returning an error on the line: <code>return initializeMessages()</code> ignore this for now, we’ll remove it in a while.</em></p><p><img src="/images/posts/error-at-initializeMessages.png" alt="error at initializeMessages" /></p><p><code>load()</code> : It will load/set all the Localized values. You can also call this method if you wish to switch the locale of app manually.</p><p><code>of()</code> : This method will return the instance of current Localization of the app. Somewhat like a factory method.</p><p><code>get heyWorld</code>: This getter returns the value of the heyWorld. This property is what will be using to get its translations based on locale of the app. For demo purpose i have only set 1 String as for now but you can as many as you can.</p><h2 id="create-a-applocalizationdelegate-in-the-applocalization-class">Create a AppLocalizationDelegate in the AppLocalization class</h2><p>Now create an <code>AppLocalizationDelegate</code> for the <code>AppLocalization</code> class.</p><pre><code class="language-dart">class AppLocalizationDelegate extends LocalizationsDelegate&lt;AppLocalization&gt;{
  final Locale overriddenLocale;

  const AppLocalizationDelegate(this.overriddenLocale);

  @override
  bool isSupported(Locale locale) =&gt; ['en', 'de'].contains(locale.languageCode);

  @override
  Future&lt;AppLocalization&gt; load(Locale locale) =&gt; AppLocalization.load(locale);

  @override
  bool shouldReload(LocalizationsDelegate&lt;AppLocalization&gt; old) =&gt; false; 
}
</code></pre><p>As you can see this Delegate class is extended from main <code>LocalizationsDelegate</code> and we have pointed it to <code>AppLocalization</code> via <code>&lt;AppLocalization&gt;</code> add the above required methods and take a look at the <code>isSupported()</code> method:</p><pre><code>@override
bool isSupported(Locale locale)=&gt;['en','de'].contains(locale.languageCode);
</code></pre><p>This method will be called to check if the language is supported or not, based on the Locale instance provided. <strong>Make sure to you have your supported languages inserted in this list here such as: [‘en’, ‘de’ ….]</strong></p><h2 id="create-a-libl10n-directory-in-your-libfolder">Create a lib/l10n Directory in your lib folder</h2><p>Now create a l10n directory in your lib folder. This directory will hold all the translated values as per your Locale. Your final directory structure will look somewhat like this:</p><p><img src="/images/posts/l10n-folder.png" alt="l10n-folder" /></p><h2 id="create-resource-bundles-arbfiles">Create resource bundles (.arb files)</h2><p>In your Terminal and run the following command to create the arb files:</p><pre><code>$ flutter pub run intl_translation:extract_to_arb --output-dir=lib/l10n lib/locale/app_localization.dart
</code></pre><p>You will now see a new file in your l10n folder <code>intl_messages.arb</code> . Cool!</p><p><img src="/images/posts/intl-messages-arb.png" alt="intl-messagse-arb" /></p><p>NOTE: The Dart intl package only creates one template file of .arb from your Localization class and names it <code>intl_messages.arb</code>. From here you now have to manually create other resource files with convention <code>intl_[LANGUAGE_CODE].arb</code> and copy the content of <code>intl_messages.arb</code> directly with updated the values.</p><p>For eg: For English format you will create file <code>intl_en.arb</code> and the content copied from <code>intl_messages.arb </code>:</p><pre><code class="language-ruby">{
  "@@last_modified": "2019-06-27T22:25:57.081431",
  "heyWorld": "Hey World",
  "@heyWorld": {
    "description": "Simple world for greeting ",
    "type": "text",
    "placeholders": {}
  },
}
</code></pre><p>Now lets create one in German language. So this will be:</p><pre><code class="language-ruby">{
  "@@last_modified": "2019-06-27T23:38:38.868199",
  "heyWorld": "Hey Welt",
  "@heyWorld": {
    "description": "Einfaches Wort zur Begrüßung",
    "type": "text",
    "placeholders": {}
  }
}
</code></pre><p><img src="/images/posts/intl-de-arb.png" alt="intl-de-arb" /></p><p>Once you created these files in your l10n folder. Now you need to run another command to create the corresponding .dart files that will be used to manage these resource files. For that run the following command:</p><pre><code>$ flutter pub run intl_translation:generate_from_arb \
--output-dir=lib/l10n --no-use-deferred-loading \
lib/l10n/intl_messages.arb lib/l10n/intl_de.arb lib/l10n/intl_en.arb lib/locale/app_localization.dart
</code></pre><p>NOTE that i have only 2 files <code>intl_en.arb</code> &amp; <code>intl_de.arb</code> therefore i am only passing those in command. But if you have more or less you need to pass them all.</p><p><img src="/images/posts/intl-messages-dart.png" alt="intl-messages-dart" /> <em>Now check your l10n folder you will now see new dart files created from those resource files. Btw you might see some warnings in the console, but its ok. just ignore them.</em></p><p>Now import the <code>messages_all.dart</code> file in your <code>AppLocalization</code> Class and here’s a final look at your <code>AppLocalization</code> Class:</p><pre><code class="language-dart">import 'dart:async';
import 'package:flutter/material.dart';
import 'package:intl/intl.dart';
import '../l10n/messages_all.dart';

class AppLocalization {
  
  static Future&lt;AppLocalization&gt; load(Locale locale) {
    final String name = locale.countryCode.isEmpty ? locale.languageCode : locale.toString();
    final String localeName = Intl.canonicalizedLocale(name);
    return initializeMessages(localeName).then((_) {
      Intl.defaultLocale = localeName;
      return AppLocalization();
    });
  }

  static AppLocalization of(BuildContext context) {
    return Localizations.of&lt;AppLocalization&gt;(context, AppLocalization);
  }

  String get heyWorld {
    return Intl.message(
      'Hey World',
      name: 'heyWorld',
      desc: 'Simpel word for greeting ',
    );
  }
}

class AppLocalizationDelegate extends LocalizationsDelegate&lt;AppLocalization&gt; {
  final Locale overriddenLocale;

  const AppLocalizationDelegate(this.overriddenLocale);

  @override
  bool isSupported(Locale locale) =&gt; ['en', 'es', 'de'].contains(locale.languageCode);

  @override
  Future&lt;AppLocalization&gt; load(Locale locale) =&gt; AppLocalization.load(locale);
  
  @override
  bool shouldReload(LocalizationsDelegate&lt;AppLocalization&gt; old) =&gt; false;
}
</code></pre><p><strong><em>The error is gone! right. ;)</em></strong> Now you’re just 1 step from using the language values based on your current Localization. To use language specific text in your app, you’ll simply need to follow the 2 steps :</p><ul><li>import AppLocalization class where you want to use the text</li><li>Call localized value of text via: <code>AppLocalizations.of(context).heyWorld</code></li></ul><p>Now what is happening here is when you call the above method, it calls the getter of the <code>AppLocalization</code> class and returns its value based on the Locale of the context. Which means.. </p><p>If the context is en (ie english) it will return the value from <code>intl_en.arb</code> and when the Locale changes to de ( ie german) it will return the value from <code>intl_de.arb</code>. And since we’re using only Class getter for both languages ie <code>heyWorld</code> therefore need not to worry about the that as well. Flutter will take care of that. Now here comes the best part.</p><h2 id="finally-update-maindart-file">Finally update main.dart file</h2><p>In your main.dart file and in your main Class set a new property <code>_localOverrideDelegate</code> in the <code>_MyAppState</code> and give it a default initial value:</p><pre><code>AppLocalizationDelegate _localeOverrideDelegate = AppLocalizationDelegate(Locale('en', 'US'));
</code></pre><p>later we’ll be changing the state of Locale on custom event. Now add this parameter in the list of <code>_localizationDelegates</code> in your main file.</p><pre><code class="language-dart">return new MaterialApp(
        ....,
        localizationsDelegates: [
        GlobalMaterialLocalizations.delegate,
        GlobalWidgetsLocalizations.delegate,
        _localeOverrideDelegate
    ],
    home: Scaffold(...
</code></pre><p>Thats it! you’re all set to use you language files code. Now each place where you’ve used the convention: <code>AppLocalizations.of(context).[GETTER_KEY]</code> the text will return the Localized value always. Now here’s the best part!</p><h2 id="switch-the-applocalization-on-customevents">Switch the AppLocalization on custom events</h2><p>To switch the Localization is real easy now. You only have to call the <code>load()</code> method with the instance of <code>Locale([LANGUAGE_CODE], [SUBTAG])</code> as argument. Like this.</p><pre><code>For English US:
    AppLocalization.load(Locale('en', 'US'));
For German DE:
    AppLocalization.load(Locale('de', 'DE'));
</code></pre><p>Pretty easy! right. And yes, you can call it on <code>onPressed()</code> events on buttons or any other. </p><p>Lets see a working example I’ll be switching the app Localization on click of a button. I’ll be adding a simple 2 buttons on the page and a <code>heyWorld</code> text in the center. On click of button the <code>AppLocalization</code> will switch over. <img src="/images/posts/flutter-Localization.gif" alt="flutter-Localization" /></p><p>Here is snippet of my main.dart file</p><pre><code class="language-dart">import 'package:flutter/material.dart';
import 'package:flutter_localizations/flutter_localizations.dart';
import 'locale/app_localization.dart';
import 'package:intl/intl.dart';

void main() =&gt; runApp(MyApp());

class MyApp extends StatefulWidget {
  @override
  State&lt;StatefulWidget&gt; createState() =&gt; _MyAppState();
}

class _MyAppState extends State&lt;MyApp&gt; {
  // This widget is the root of your application.
  AppLocalizationDelegate _localeOverrideDelegate =
      AppLocalizationDelegate(Locale('en', 'US'));

  @override
  Widget build(BuildContext context) {
    return new MaterialApp(localizationsDelegates: [
      GlobalMaterialLocalizations.delegate,
      GlobalWidgetsLocalizations.delegate,
      _localeOverrideDelegate
    ], supportedLocales: [
      const Locale('en', 'US'),
      const Locale('de', 'DE')
    ], 
    home: MyHomePage());
  }
}

class MyHomePage extends StatefulWidget {
  @override
  State&lt;StatefulWidget&gt; createState() =&gt; _MyHomePageState();
}

class _MyHomePageState extends State&lt;MyHomePage&gt; {
  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
          // title: Text(AppLocalization.of(context).heyWorld),
          ),
      body: Column(
        mainAxisAlignment: MainAxisAlignment.start,
        children: &lt;Widget&gt;[
          Expanded(
            flex: 1,
            child: ListTile(
              leading: RaisedButton(
                onPressed: () {
                  setState(() {
                    AppLocalization.load(Locale('en', 'US'));
                  });
                },
                child: Text('ENGLISH'),
              ),
              trailing: RaisedButton(
                onPressed: () {
                  setState(() {
                    AppLocalization.load(Locale('de', 'DE'));
                  });
                },
                child: Text('GERMAN'),
              ),
            ),
          ),
          Expanded(
            flex: 1,
            child: Text(
              AppLocalization.of(context).heyWorld,
              style: TextStyle(fontSize: 20),
            ),
          )
        ],
      ),
    );
  }
}
</code></pre><p>and here is the <a href="https://github.com/abcdevops/flutter-tutorials/tree/master/internationalization">link</a> to full working example. Enjoy and Keep Fluttering!</p></div></div><div class="sixteen wide tablet four wide computer column custom-sidebar"><div class="categories-side related-post"> 
  <div class="unprintable unprintable innerpage-header-title">
    <h2>Related Posts</h2>
  </div>
    <ul>
      
        <li>
          <a href="/blog/2016/02/29/amazon-lambda.html" data-score="2.0555498093626765">Amazon Lambda - Serverless technology</a>
        </li>
      
        <li>
          <a href="/blog/2016/03/02/amazon-EC2.html" data-score="1.7010104666712274">Amazon EC2 - Elastic Cloud Computing</a>
        </li>
      
        <li>
          <a href="/blog/2016/01/29/amazon-opsworks.html" data-score="1.7009985655694158">AWS OpsWorks – Configuration Management - Amazon Web Services</a>
        </li>
      
        <li>
          <a href="/blog/2016/02/24/amazon-cloud-front.html" data-score="1.6766450853014616">Amazon Cloud Front - serve static assets from the closest place.</a>
        </li>
      
        <li>
          <a href="/blog/2016/02/01/amazon-cloudwatch.html" data-score="1.4009836503782187">Amazon CloudWatch, A monitoring tool.</a>
        </li>
      
    </ul>



</div></div></div></div><div class="disqus" role="complementary"><div id="disqus_thread" class="disqus-thread"></div><script> var disqus_config = function () { this.page.url = document.location.href.split('?')[0].split('#')[0]; this.page.identifier = this.page.url; }; (function() { var d = document, s = d.createElement('script'); s.src = '//abcdevops.disqus.com/embed.js'; s.setAttribute('data-timestamp', +new Date()); (d.head || d.body).appendChild(s); })(); </script> <noscript><div><p class="red"> JavaScript is disabled in your browser, that's why you can't see comments under this post.</p></div></noscript></div></section><footer><div class="ui container"><div class="ui grid m-0"><div class=" sixteen wide mobile eight wide tablet ten wide computer column col1"><div class="m-bt"><div class="certificate"><div class="tooltip"><img src="/images/tarunsir.png"> <span class="tooltiptext"> &nbsp; Tarun Jangra <a href="https://twitter.com/jangratarun" class="opcity-effect" target="_blank"><i class="twitter icon"></i></a> <a href="https://www.linkedin.com/in/tarunjangra" class="opcity-effect" target="_blank"><i class="linkedin icon"></i></a> </span></div><img src="/images/aws01.png"></div><div class="degree"><h5 class="border-bottom ">Developers - Associate</h5><p class="font-tinny">The AWS Certified Developer – Associate validates technical expertise in developing and maintaining applications on the AWS platform.</p></div></div><div class=" m-bt"><div class="certificate"><div class="tooltip"><img src="/images/tarunsir.png"> <span class="tooltiptext"> &nbsp; Tarun Jangra <a href="https://twitter.com/jangratarun" class="opcity-effect" target="_blank"><i class="twitter icon"></i></a> <a href="https://www.linkedin.com/in/tarunjangra" class="opcity-effect" target="_blank"><i class="linkedin icon"></i></a> </span></div><img src="/images/aws01.png"></div><div class="degree"><h5 class="border-bottom">Solutions Architect - Associate</h5><p class="font-tinny">Solutions Architect – Associate is intended for individuals with experience designing distributed apps and systems on AWS platform.</p></div></div><div class=" m-bt"><div class="certificate"><div class="tooltip"><img src="/images/dineshsir.png"> <span class="tooltiptext"> &nbsp; Dinesh Verma <a href="https://twitter.com/sam_dv66" class="opcity-effect" target="_blank"><i class="twitter icon"></i></a> </span></div><img src="/images/red1.png"></div><div class="degree"><h5 class="border-bottom"><span style="letter-spacing: 1px;"><b>red</b>hat</span> - Certified Engineer</h5><p class="font-tinny">RHCE proves your ability to configure networking services and security on servers running Red Hat Enterprise Linux.</p></div></div><div class="m-bt"><div class="certificate"><div class="tooltip"><img src="/images/tarunsir.png"> <span class="tooltiptext"> &nbsp; Tarun Jangra <a href="https://twitter.com/jangratarun" class="opcity-effect" target="_blank"><i class="twitter icon"></i></a> <a href="https://www.linkedin.com/in/tarunjangra" class="opcity-effect" target="_blank"><i class="linkedin icon"></i></a> </span></div><img src="/images/oracle.png"></div><div class="degree"><h5 class="border-bottom">Oracle Certified Professional - 6i</h5><p class="font-tinny">Oracle provides a comprehensive and fully integrated stack of cloud applications, platform services, and engineered systems.</p></div></div></div><div class="ui sixteen wide mobile eight wide tablet six wide computer column p-0"><div class="small-12 columns sec-quick-contect"> <a href="/where.html" class="button">Contact Us</a></div><div class="small-12 columns sec-technologies scrollbar text-left" style="float:left;width:100%;"><div class="ui grid m-0"><h2 class="text-center headsec">Our Accelerators</h2><div class="eight wide column"> <img class="grey" src="/images/L-1.png" alt="AWS"> &nbsp; <span class="font-tinny"> AWS</span></div><div class="eight wide column"> <img class="grey" src="/images/L-2.png" alt="AWS"> &nbsp; <span class="font-tinny"> Docker</span></div><div class="eight wide column"> <img class="grey" src="/images/L-3.png" alt="AWS"> <span class="font-tinny"> Elasticsearch</span></div><div class="eight wide column"> <img class="grey" src="/images/L-4.png" alt="AWS"> &nbsp; <span class="font-tinny"> CHEF</span></div><div class="eight wide column"> <img class="grey" src="/images/L-5.png" alt="AWS"> &nbsp; <span class="font-tinny"> Grafana</span></div><div class="eight wide column"> <img class="grey" src="/images/L-6.png" alt="AWS"> <span class="font-tinny"> Digital Ocean</span></div><div class="eight wide column"> <img class="grey" src="/images/L-7.png" alt="AWS"> &nbsp; <span class="font-tinny"> Jenkins</span></div><div class="eight wide column"> <img class="grey" src="/images/L-8.png" alt="AWS"> &nbsp; <span class="font-tinny"> Prometheus</span></div><div class="eight wide column"> <img class="grey" src="/images/L-9.png" alt="AWS"> &nbsp; <span class="font-tinny"> GIT</span></div><div class="eight wide column"> <img class="grey" src="/images/L-10.png" alt="AWS"> &nbsp; <span class="font-tinny"> Atlassian</span></div><div class="eight wide column"> <img class="grey" src="/images/L-11.png" alt="AWS"> &nbsp; <span class="font-tinny"> Redmine</span></div><div class="eight wide column"> <img class="grey" src="/images/L-12.png" alt="AWS"> &nbsp; <span class="font-tinny"> redhat</span></div></div></div></div></div></div></footer><div class="copyright text-center"><div class="ui container"><p class="text-white font-tinny m-0">abcdevops © 2019 all rights reserved.</p><div class="social-icons right floated"> <a class="text-white" href="https://www.facebook.com/abcdevops/" target="_blank"><i class="facebook icon"></i></a> <a class="text-white" href="https://twitter.com/abcdevops" target="_blank"><i class="twitter icon"></i></a> <a class="text-white" href="https://www.linkedin.com/company/abcdevops" target="_blank"><i class="linkedin alternate icon"></i></a> <a class="text-white" href="https://abcdops.slack.com" target="_blank"><i class="fa fa-slack"></i></a></div></div></div></main><script src="/js/all.js?fea39852" type="application/javascript" async></script> <script>vardisqus_shortname = 'abcdevops';</script> <script id="dsq-count-scr" src="//abcdevops.disqus.com/count.js" async="async"></script> <script language="javascript" type="text/javascript"> Cd=document;Cr="&"+Math.random();Cp="&s=1"; Cd.cookie="b=b";if(Cd.cookie)Cp+="&c=1"; Cp+="&t="+(new Date()).getTimezoneOffset(); if(self!=top)Cp+="&f=1"; </script> <script language="javascript1.1" type="text/javascript"> if(navigator.javaEnabled())Cp+="&j=1"; </script> <script language="javascript1.2" type="text/javascript"> if(typeof(screen)!='undefined')Cp+="&w="+screen.width+"&h="+ screen.height+"&d="+(screen.colorDepth?screen.colorDepth:screen.pixelDepth); </script> <script language="javascript" type="text/javascript"> Cd.write("<img src='//c.hit.ua/hit?i=95870&g=0&x=2"+Cp+Cr+ "&r="+escape(Cd.referrer)+"&u="+escape(window.location.href)+ "' border='0' wi"+"dth='1' he"+"ight='1'/>"); </script></body></html>
